@using System.Security.Claims
@using System.Threading.Tasks
@using Microsoft.AspNet.Mvc.Rendering
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- TODO: disable in production -->
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <title>BookingSystem</title>

    <script src="~/lib/system.js/dist/system.js"></script>


    <link href="~/lib/bootstrap-css-only/css/bootstrap.css" rel="stylesheet" />
    <link href="~/lib/bootstrap-css-only/css/bootstrap-theme.css" rel="stylesheet" />
    <link href="~/lib/angular-toastr/dist/angular-toastr.css" rel="stylesheet" />
    <link href="~/lib/angular-bootstrap/ui-bootstrap-csp.css" rel="stylesheet" />
    <link href="~/lib/angular-loading-bar/build/loading-bar.css" rel="stylesheet" />
    <link href="~/app/shared/directives/vcrudgrid/vCrudGrid.styles.css" rel="stylesheet" />
    <link href="~/style/main.css" rel="stylesheet" />

    <base href="/">
</head>
<body>

    <script>
        // set our baseURL reference path
        System.config({
            baseURL: '/app',
            defaultJSExtensions: true

        });
    </script>

    <div class="container-full">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                            aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">BookingSystem</a>
                </div>

                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <menulink controller-name="Home" action-name="Index" menu-text="Home"></menulink>
                        <menulink controller-name="Book" action-name="Index" menu-text="Book"></menulink>
                        <menulink controller-name="CheckIn" action-name="Index" menu-text="CheckIn"></menulink>
                        <menulink controller-name="Admin" action-name="Index" menu-text="Admin"></menulink>
                    </ul>
                    @if (User.IsSignedIn())
                    {
                        using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
                        {
                            @Html.AntiForgeryToken()

                            <ul class="nav navbar-nav navbar-right">
                                <li>
                                    @Html.ActionLink("Hello " + User.GetUserName() + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage" })
                                </li>
                                <li><a href="javascript:document.getElementById('logoutForm').submit()">Log off</a></li>
                            </ul>
                        }
                    }
                </div>
            </div>
        </nav>
        <div class="container">
            @RenderBody()
        </div>
    </div>

    <script src="~/lib/angular/angular.js"></script>
    <script src="~/lib/angular-hint/dist/hint.js"></script>

    <script src="~/lib/angular-loading-bar/build/loading-bar.js"></script>
    
    <script src="~/lib/angular-translate/angular-translate.js"></script>
    <script src="~/lib/angular-translate-loader-url/angular-translate-loader-url.js"></script>
    <script src="~/lib/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script>

    

    <script src="~/lib/angular-ui-router/release/angular-ui-router.js"></script>

    <script src="~/lib/angular-bootstrap/ui-bootstrap.js"></script>

    <script src="~/lib/angular-bootstrap/ui-bootstrap-tpls.js"></script>

    <script src="~/lib/angular-animate/angular-animate.js"></script>

    <script src="~/lib/angular-strap/dist/angular-strap.js"></script>
    <script src="~/lib/angular-strap/dist/angular-strap.tpl.js"></script>

    <script src="~/lib/angular-toastr/dist/angular-toastr.tpls.js"></script>
</body>
</html>